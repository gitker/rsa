# rsa
精简的rsa实现（rsa.c 和 rsa.h，基本代码不到400行），大部分代码来自mbedtls。相比于一般的rsa库，该库需要根据公钥N提前计算一个RR值，
计算RR的方法在get_rr.py,只需运行一次。和原生的mbedts库相比，公钥的加解密速度与之相当，私钥的加解密则要慢2倍。
优点是代码比较简短，没有任何依赖，可以集成到各种存储受限的嵌入式平台。计算模余幂乘的主要算法
为蒙哥利马算法，和原始的蒙哥利马算法相比，通过迭代算法进行了加速，并不直接计算N相对于R的模余逆元。

蒙哥利马算法：
求A^E % N

首先寻找一个R=2^k 使得 N<R,由于R是2的多次幂的形式，求解R的模余只需要位移运算，速度比较快。算法的关键就是把求N的模余转化为求R的模余运算

提前计算两个参数

1.计算 RR  = R*R % N

2.计算 N'  = -1/N % R

已知T<N*R, 计算T/R mod N

可以找一个a<R，使得 T+aN = kR  

T<N*R  a<R  -> k<2N

如果k<N k%N = k 否则 k%N = k-N
  
下面求解a： 
T+aN = 0 (mod R)   

aN = -T (mod R)  

a = -T/N (mod R) 

a = N'*T mod R

这样就把(T/R)%N 的计算转化为了计算R的模余运算，虽然求T%N比较困难， 
但是我们找到了一个求T*R^-1 %N的快速方式 ,
之后可以通A/R mod N 和 RR 组合计算出A^E mod N





